<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SolanoTV - Player</title>
    <style>
        body { background-color: #0d0d0d; color: white; font-family: sans-serif; margin: 0; padding: 0; }
        .player-wrap { position: relative; width: 100%; padding-bottom: 56.25%; background: #000; }
        iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
        .list-area { padding: 15px; }
        .ep-row { display: flex; align-items: center; background: #1a1a1a; margin-bottom: 10px; text-decoration: none; color: white; padding: 8px; border-radius: 4px; }
        .ep-row img { width: 80px; height: 50px; object-fit: cover; margin-right: 12px; border-radius: 2px; }
        .ep-row.active { border-left: 4px solid #b70909; background: #252525; }
    </style>
</head>
<body>
    <div class="player-wrap" id="main-player"></div>
    <div class="list-area" id="list-area">
        <h4 id="title-list">Episódios:</h4>
        <div id="ep-container"></div>
    </div>
    <script>
        const p = new URLSearchParams(window.location.search);
        const links = p.get('eps').split(',');
        const container = document.getElementById('ep-container');
        const player = document.getElementById('main-player');

        function play(url, el) {
            player.innerHTML = `<iframe src="${url}" allowfullscreen scrolling="no"></iframe>`;
            document.querySelectorAll('.ep-row').forEach(r => r.classList.remove('active'));
            if(el) el.classList.add('active');
        }

        if(p.get('tipo') === 'filme') {
            document.getElementById('list-area').style.display = 'none';
            play(links[0]);
        } else {
            links.forEach((link, i) => {
                const a = document.createElement('a');
                a.className = 'ep-row';
                a.href = "#";
                a.innerHTML = `<img src="${p.get('capa')}"><div><b>Episódio ${i+1}</b><br><small>Temporada 1</small></div>`;
                a.onclick = (e) => { e.preventDefault(); play(link, a); };
                container.appendChild(a);
                if(i === 0) play(link, a);
            });
        }
    </script>
</body>
</html>
